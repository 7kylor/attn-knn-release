{
  "main": {
    "Uniform kNN": {
      "accuracy": 0.8969,
      "f1_macro": 0.8965724323037859,
      "nll": 0.9635952230484589,
      "ece": 0.024320000493526457
    },
    "Distance kNN": {
      "accuracy": 0.897,
      "f1_macro": 0.8966060239919555,
      "nll": 0.9635794318820601,
      "ece": 0.05660884299576285
    },
    "Attn-KNN (Ours)": {
      "accuracy": 0.897,
      "f1_macro": 0.8966448804047399,
      "nll": 0.9635950913871005,
      "ece": 0.05780101350843909
    },
    "CNN (Upper Bound)": {
      "accuracy": 0.9494,
      "f1_macro": 0.9492891531678158,
      "nll": 0.2577093278285806,
      "ece": 0.07180337610095743
    }
  },
  "k_sweep": {
    "1": {
      "uniform": {
        "accuracy": 0.8886,
        "f1_macro": 0.8881497842680416,
        "nll": 1.7759818119600728,
        "ece": 0.11140000000000005
      },
      "distance": {
        "accuracy": 0.8886,
        "f1_macro": 0.8881497842680416,
        "nll": 1.7759818119600728,
        "ece": 0.11140000000000005
      },
      "attention": {
        "accuracy": 0.8886,
        "f1_macro": 0.8881497842680416,
        "nll": 1.7759818119600728,
        "ece": 0.11140000000000005
      }
    },
    "3": {
      "uniform": {
        "accuracy": 0.8952,
        "f1_macro": 0.8948800989980932,
        "nll": 1.2495788445875367,
        "ece": 0.07193333485722542
      },
      "distance": {
        "accuracy": 0.8944,
        "f1_macro": 0.8939988765272073,
        "nll": 1.2495306977648513,
        "ece": 0.0701933963000774
      },
      "attention": {
        "accuracy": 0.8947,
        "f1_macro": 0.8943206802512826,
        "nll": 1.2495795604204232,
        "ece": 0.07203398432135587
      }
    },
    "5": {
      "uniform": {
        "accuracy": 0.8966,
        "f1_macro": 0.8962394672749282,
        "nll": 1.1272965050545671,
        "ece": 0.06706001036763193
      },
      "distance": {
        "accuracy": 0.8962,
        "f1_macro": 0.8957871893717156,
        "nll": 1.1272161280169122,
        "ece": 0.06314643958806995
      },
      "attention": {
        "accuracy": 0.8962,
        "f1_macro": 0.8957986652315171,
        "nll": 1.1272965499028944,
        "ece": 0.06526085910499095
      }
    },
    "10": {
      "uniform": {
        "accuracy": 0.8969,
        "f1_macro": 0.8965724323037859,
        "nll": 0.9635952230484589,
        "ece": 0.024320000493526457
      },
      "distance": {
        "accuracy": 0.897,
        "f1_macro": 0.8966060239919555,
        "nll": 0.9635794318820601,
        "ece": 0.05660884299576285
      },
      "attention": {
        "accuracy": 0.897,
        "f1_macro": 0.8966448804047399,
        "nll": 0.9635950913871005,
        "ece": 0.05780101350843909
      }
    },
    "20": {
      "uniform": {
        "accuracy": 0.8975,
        "f1_macro": 0.8971130776045155,
        "nll": 0.8519739090110433,
        "ece": 0.03428002301454544
      },
      "distance": {
        "accuracy": 0.8968,
        "f1_macro": 0.8963800483603006,
        "nll": 0.8518854387945063,
        "ece": 0.05925007537305356
      },
      "attention": {
        "accuracy": 0.8973,
        "f1_macro": 0.8969003307550343,
        "nll": 0.8519734988374584,
        "ece": 0.05575994895398615
      }
    },
    "50": {
      "uniform": {
        "accuracy": 0.8978,
        "f1_macro": 0.8973973827142201,
        "nll": 0.7352732282102948,
        "ece": 0.06278362530767916
      },
      "distance": {
        "accuracy": 0.8977,
        "f1_macro": 0.8973052460712927,
        "nll": 0.7352599958004586,
        "ece": 0.05710573086738584
      },
      "attention": {
        "accuracy": 0.8975,
        "f1_macro": 0.8970901732309782,
        "nll": 0.7352732152466704,
        "ece": 0.0556840982526541
      }
    }
  },
  "noise": {
    "0.0": {
      "uniform": {
        "accuracy": 0.8969,
        "f1_macro": 0.8965724323037859,
        "nll": 0.9635952230484589,
        "ece": 0.024320000493526457
      },
      "distance": {
        "accuracy": 0.897,
        "f1_macro": 0.8966060239919555,
        "nll": 0.9635794318820601,
        "ece": 0.05660884299576285
      },
      "attention": {
        "accuracy": 0.897,
        "f1_macro": 0.8966448804047399,
        "nll": 0.9635950913871005,
        "ece": 0.05780101350843909
      }
    },
    "0.1": {
      "uniform": {
        "accuracy": 0.8973,
        "f1_macro": 0.8969464631817352,
        "nll": 1.0049627833772476,
        "ece": 0.04603005155622958
      },
      "distance": {
        "accuracy": 0.8976,
        "f1_macro": 0.8972166924135783,
        "nll": 1.0049522276741607,
        "ece": 0.05854528903961179
      },
      "attention": {
        "accuracy": 0.8973,
        "f1_macro": 0.8969482459305418,
        "nll": 1.0049631721321495,
        "ece": 0.058290729358792315
      }
    },
    "0.2": {
      "uniform": {
        "accuracy": 0.8948,
        "f1_macro": 0.894448919028199,
        "nll": 1.0728678436429335,
        "ece": 0.12521996561735868
      },
      "distance": {
        "accuracy": 0.8952,
        "f1_macro": 0.8948235584755901,
        "nll": 1.0728527705515243,
        "ece": 0.1286942897900939
      },
      "attention": {
        "accuracy": 0.8957,
        "f1_macro": 0.8953341531473674,
        "nll": 1.0728671531427467,
        "ece": 0.12921984598487615
      }
    },
    "0.3": {
      "uniform": {
        "accuracy": 0.8921,
        "f1_macro": 0.891754382617029,
        "nll": 1.174429352105074,
        "ece": 0.21910998269021512
      },
      "distance": {
        "accuracy": 0.892,
        "f1_macro": 0.8915423685835073,
        "nll": 1.174391762880436,
        "ece": 0.2205635705262423
      },
      "attention": {
        "accuracy": 0.8918,
        "f1_macro": 0.8912776752464995,
        "nll": 1.174427604430891,
        "ece": 0.22026862953901288
      }
    }
  },
  "imbalance": {
    "1.0": {
      "uniform": {
        "accuracy": 0.8969,
        "f1_macro": 0.8965724323037859,
        "nll": 0.9635952230484589,
        "ece": 0.024320000493526457
      },
      "distance": {
        "accuracy": 0.897,
        "f1_macro": 0.8966060239919555,
        "nll": 0.9635794318820601,
        "ece": 0.05660884299576285
      },
      "attention": {
        "accuracy": 0.897,
        "f1_macro": 0.8966448804047399,
        "nll": 0.9635950913871005,
        "ece": 0.05780101350843909
      }
    },
    "0.1": {
      "uniform": {
        "accuracy": 0.8941,
        "f1_macro": 0.8940274847695457,
        "nll": 1.0114070241131414,
        "ece": 0.0246200120896101
      },
      "distance": {
        "accuracy": 0.8942,
        "f1_macro": 0.8940491739060616,
        "nll": 1.0113217453139611,
        "ece": 0.06135820231139662
      },
      "attention": {
        "accuracy": 0.894,
        "f1_macro": 0.8938680378322912,
        "nll": 1.0114068452846692,
        "ece": 0.061020821419358245
      }
    },
    "0.01": {
      "uniform": {
        "accuracy": 0.8869,
        "f1_macro": 0.887029873539354,
        "nll": 1.0602149984142424,
        "ece": 0.025930005198717125
      },
      "distance": {
        "accuracy": 0.8881,
        "f1_macro": 0.8882061081311688,
        "nll": 1.0602401135939736,
        "ece": 0.06322461275160313
      },
      "attention": {
        "accuracy": 0.888,
        "f1_macro": 0.8880719544194727,
        "nll": 1.0602176591409764,
        "ece": 0.06263042448759079
      }
    }
  },
  "efficiency": {
    "L2": {
      "build_time": 0.0031690597534179688,
      "search_time": 0.033685922622680664,
      "search_per_query_ms": 0.033685922622680664
    },
    "IP": {
      "build_time": 0.0010139942169189453,
      "search_time": 0.026524066925048828,
      "search_per_query_ms": 0.026524066925048828
    },
    "HNSW": {
      "build_time": 41.0732741355896,
      "search_time": 0.05107474327087402,
      "search_per_query_ms": 0.05107474327087402
    }
  }
}